"use strict";(self["webpackChunkdata_processor_frontend"]=self["webpackChunkdata_processor_frontend"]||[]).push([[63],{63:(s,r,o)=>{o.r(r),o.d(r,{default:()=>T});var e=o(641),a=o(33),t=o(751);const n={class:"reset-password-container"},i={class:"card login-card"},l={class:"card-body"},d={key:0,class:"form-container"},c={class:"form-group"},u={key:0,class:"invalid-feedback"},w={class:"form-group"},p={key:0,class:"invalid-feedback"},k={class:"form-actions"},h=["disabled"],L={key:0},m={key:1},f={key:1,class:"success-message"},g={key:2,class:"error-message"},P={class:"form-actions mt-3 d-flex flex-column"};function b(s,r,o,b,E,v){return(0,e.uX)(),(0,e.CE)("div",n,[(0,e.Lk)("div",i,[(0,e.Lk)("div",l,[r[22]||(r[22]=(0,e.Lk)("h2",{class:"text-center mb-4"},[(0,e.Lk)("span",{class:"brand-name"},[(0,e.eW)("Aqua"),(0,e.Lk)("span",{class:"text-success"},"Green")])],-1)),r[23]||(r[23]=(0,e.Lk)("h3",{class:"text-center mb-4"},"Reset Password",-1)),s.resetSuccess||s.resetError?s.resetSuccess?((0,e.uX)(),(0,e.CE)("div",f,[r[15]||(r[15]=(0,e.Lk)("i",{class:"fas fa-check-circle success-icon"},null,-1)),r[16]||(r[16]=(0,e.Lk)("h3",null,"Password Reset Complete!",-1)),r[17]||(r[17]=(0,e.Lk)("p",null,"Your password has been successfully reset.",-1)),r[18]||(r[18]=(0,e.Lk)("p",null,"You can now log in with your new password.",-1)),(0,e.Lk)("button",{onClick:r[6]||(r[6]=(...r)=>s.goToLogin&&s.goToLogin(...r)),class:"btn btn-success w-100 mt-3"}," Go to Login ")])):((0,e.uX)(),(0,e.CE)("div",g,[r[19]||(r[19]=(0,e.Lk)("i",{class:"fas fa-exclamation-circle error-icon"},null,-1)),r[20]||(r[20]=(0,e.Lk)("h3",null,"Password Reset Failed",-1)),(0,e.Lk)("p",null,(0,a.v_)(s.resetErrorMessage),1),r[21]||(r[21]=(0,e.Lk)("p",{class:"note"},"Please try again or request a new password reset link.",-1)),(0,e.Lk)("div",P,[(0,e.Lk)("button",{onClick:r[7]||(r[7]=(...r)=>s.goToForgotPassword&&s.goToForgotPassword(...r)),class:"btn btn-outline-secondary w-100 mb-3"}," Request New Link "),(0,e.Lk)("button",{onClick:r[8]||(r[8]=(...r)=>s.goToLogin&&s.goToLogin(...r)),class:"btn btn-success w-100"}," Return to Login ")])])):((0,e.uX)(),(0,e.CE)("div",d,[r[13]||(r[13]=(0,e.Lk)("p",{class:"instruction"},"Enter your new password below to reset your account password.",-1)),(0,e.Lk)("div",c,[r[9]||(r[9]=(0,e.Lk)("label",{for:"password"},"New Password",-1)),(0,e.bo)((0,e.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":r[0]||(r[0]=r=>s.password=r),class:(0,a.C4)(["form-control",{"is-invalid":s.passwordError}]),placeholder:"Enter your new password",onInput:r[1]||(r[1]=r=>s.passwordError="")},null,34),[[t.Jo,s.password]]),s.passwordError?((0,e.uX)(),(0,e.CE)("div",u,(0,a.v_)(s.passwordError),1)):(0,e.Q3)("",!0)]),(0,e.Lk)("div",w,[r[10]||(r[10]=(0,e.Lk)("label",{for:"confirmPassword"},"Confirm Password",-1)),(0,e.bo)((0,e.Lk)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":r[2]||(r[2]=r=>s.confirmPassword=r),class:(0,a.C4)(["form-control",{"is-invalid":s.confirmPasswordError}]),placeholder:"Confirm your new password",onInput:r[3]||(r[3]=r=>s.confirmPasswordError="")},null,34),[[t.Jo,s.confirmPassword]]),s.confirmPasswordError?((0,e.uX)(),(0,e.CE)("div",p,(0,a.v_)(s.confirmPasswordError),1)):(0,e.Q3)("",!0)]),r[14]||(r[14]=(0,e.Lk)("div",{class:"password-requirements"},[(0,e.Lk)("h4",null,"Password Requirements:"),(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,"At least 8 characters long"),(0,e.Lk)("li",null,"Contains at least one uppercase letter"),(0,e.Lk)("li",null,"Contains at least one lowercase letter"),(0,e.Lk)("li",null,"Contains at least one number"),(0,e.Lk)("li",null,"Cannot be too similar to your username or email")])],-1)),(0,e.Lk)("div",k,[(0,e.Lk)("button",{onClick:r[4]||(r[4]=(...r)=>s.goToLogin&&s.goToLogin(...r)),class:"btn btn-outline-secondary w-100 mb-3"},r[11]||(r[11]=[(0,e.Lk)("i",{class:"fas fa-arrow-left"},null,-1),(0,e.eW)(" Back to Login ")])),(0,e.Lk)("button",{onClick:r[5]||(r[5]=(...r)=>s.resetPassword&&s.resetPassword(...r)),class:"btn btn-success w-100",disabled:s.isLoading},[s.isLoading?((0,e.uX)(),(0,e.CE)("span",L,r[12]||(r[12]=[(0,e.Lk)("i",{class:"fas fa-spinner fa-spin"},null,-1),(0,e.eW)(" Resetting... ")]))):((0,e.uX)(),(0,e.CE)("span",m,"Reset Password"))],8,h)])]))])])])}var E=o(335);const v=(0,e.pM)({name:"ResetPasswordView",data(){return{password:"",confirmPassword:"",passwordError:"",confirmPasswordError:"",isLoading:!1,resetSuccess:!1,resetError:!1,resetErrorMessage:"",uid:"",token:""}},created(){this.uid=this.$route.params.uid,this.token=this.$route.params.token,this.uid&&this.token||(this.resetError=!0,this.resetErrorMessage="Invalid password reset link. Please request a new link.")},methods:{goToLogin(){this.$router.push("/login")},goToForgotPassword(){this.$router.push("/forgot-password")},validatePassword(){let s=!0;return this.password?this.password.length<8?(this.passwordError="Password must be at least 8 characters long",s=!1):/[A-Z]/.test(this.password)?/[a-z]/.test(this.password)?/\d/.test(this.password)||(this.passwordError="Password must contain at least one number",s=!1):(this.passwordError="Password must contain at least one lowercase letter",s=!1):(this.passwordError="Password must contain at least one uppercase letter",s=!1):(this.passwordError="Password is required",s=!1),this.password!==this.confirmPassword&&(this.confirmPasswordError="Passwords do not match",s=!1),s},async resetPassword(){if(this.validatePassword()){this.isLoading=!0;try{await E.A.post("auth/password-reset-otp/reset-with-code/",{email:this.uid,code:this.token,new_password:this.password}),this.resetSuccess=!0,this.$toast.success("Password reset successful!")}catch(s){console.error("Password reset failed:",s),this.resetError=!0,s.response&&s.response.data&&s.response.data.error?this.resetErrorMessage=s.response.data.error:this.resetErrorMessage="An error occurred while resetting your password. Please try again."}finally{this.isLoading=!1}}}}});var y=o(262);const C=(0,y.A)(v,[["render",b],["__scopeId","data-v-175191c6"]]),T=C}}]);
//# sourceMappingURL=63.a22cb9f2.js.map