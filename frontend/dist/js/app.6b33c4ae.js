(()=>{"use strict";var e={228:(e,t,s)=>{s.d(t,{A:()=>m});var a=s(641),r=s(33);const o={class:"base-card"},i={key:0,class:"card-header"},l={class:"mb-0"},n={class:"card-body"},c={key:1,class:"card-footer"};function d(e,t,s,d,u,h){return(0,a.uX)(),(0,a.CE)("div",o,[s.title||e.$slots.header?((0,a.uX)(),(0,a.CE)("div",i,[(0,a.RG)(e.$slots,"header",{},(()=>[(0,a.Lk)("h5",l,(0,r.v_)(s.title),1)]),!0)])):(0,a.Q3)("",!0),(0,a.Lk)("div",n,[(0,a.RG)(e.$slots,"default",{},void 0,!0)]),e.$slots.footer?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.RG)(e.$slots,"footer",{},void 0,!0)])):(0,a.Q3)("",!0)])}const u={name:"BaseCard",props:{title:{type:String,default:""}}};var h=s(262);const p=(0,h.A)(u,[["render",d],["__scopeId","data-v-88af9a88"]]),m=p},470:(e,t,s)=>{var a=s(751),r=s(641),o=s(33);const i={id:"app"},l={key:0,class:"navbar navbar-expand-lg navbar-dark bg-success mb-4"},n={class:"container"},c={class:"collapse navbar-collapse",id:"navbarNav"},d={class:"navbar-nav me-auto"},u={class:"nav-item"},h={class:"nav-item"},p={class:"nav-item"},m={class:"nav-item"},g={class:"d-flex"},f={class:"container mt-4"},b={key:0,class:"alert alert-danger alert-dismissible fade show",role:"alert"},k={key:1,class:"footer mt-5 py-3 bg-light"},v={class:"container text-center"},y={class:"text-muted"};function L(e,t,s,a,L,C){const w=(0,r.g2)("router-link"),F=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",i,[C.isAuthenticated?((0,r.uX)(),(0,r.CE)("nav",l,[(0,r.Lk)("div",n,[(0,r.bF)(w,{class:"navbar-brand",to:"/"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.Lk)("span",{class:"brand-name"},[(0,r.eW)("Aqua"),(0,r.Lk)("span",{class:"text-light"},"Green")],-1)]))),_:1}),t[7]||(t[7]=(0,r.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[(0,r.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,r.Lk)("div",c,[(0,r.Lk)("ul",d,[(0,r.Lk)("li",u,[(0,r.bF)(w,{class:"nav-link",to:"/"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("Home")]))),_:1})]),(0,r.Lk)("li",h,[(0,r.bF)(w,{class:"nav-link",to:"/upload"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Upload")]))),_:1})]),(0,r.Lk)("li",p,[(0,r.bF)(w,{class:"nav-link",to:"/files"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)("Files")]))),_:1})]),(0,r.Lk)("li",m,[(0,r.bF)(w,{class:"nav-link",to:"/visualizations"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.Lk)("i",{class:"bi bi-graph-up me-1"},null,-1),(0,r.eW)("Visualizations ")]))),_:1})])]),(0,r.Lk)("div",g,[(0,r.bF)(w,{to:"/profile",class:"navbar-text me-3 text-light text-decoration-none"},{default:(0,r.k6)((()=>[(0,r.eW)(" Welcome, "+(0,o.v_)(C.currentUser?C.currentUser.username:"User"),1)])),_:1}),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>C.handleLogout&&C.handleLogout(...e)),class:"btn btn-outline-light btn-sm"}," Logout ")])])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",f,[e.error?((0,r.uX)(),(0,r.CE)("div",b,[(0,r.eW)((0,o.v_)(e.error)+" ",1),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=(...e)=>C.clearError&&C.clearError(...e))})])):(0,r.Q3)("",!0),(0,r.bF)(F)]),C.isAuthenticated?((0,r.uX)(),(0,r.CE)("footer",k,[(0,r.Lk)("div",v,[(0,r.Lk)("span",y,"AquaGreen Monitoring Website © "+(0,o.v_)((new Date).getFullYear()),1)])])):(0,r.Q3)("",!0)])}var C=s(278);const w="lastActivityTime",F=18e5;function _(e){E();const t=["mousedown","keypress","scroll","touchstart"];t.forEach((e=>{window.addEventListener(e,E)}));const s=setInterval((()=>{A(e)}),6e4);return()=>{t.forEach((e=>{window.removeEventListener(e,E)})),clearInterval(s)}}function E(){localStorage.setItem(w,Date.now().toString())}function A(e){const t=localStorage.getItem(w);if(!t)return void E();const s=Date.now(),a=parseInt(t,10),r=s-a;r>F&&(localStorage.removeItem(w),e())}const x={name:"App",data(){return{sessionTimeoutCleanup:null}},computed:{...(0,C.aH)(["error"]),isAuthenticated(){return this.$store.state.isAuthenticated},currentUser(){return this.$store.state.user}},watch:{isAuthenticated(e){e?this.initializeSessionTimeout():this.cleanupSessionTimeout()}},mounted(){this.isAuthenticated&&this.initializeSessionTimeout()},beforeUnmount(){this.cleanupSessionTimeout()},methods:{...(0,C.i0)(["logout"]),clearError(){this.$store.commit("setError",null)},async handleLogout(){await this.logout(),this.$toast?.success("You have been successfully logged out"),this.$router.push("/login")},initializeSessionTimeout(){this.cleanupSessionTimeout(),this.sessionTimeoutCleanup=_((async()=>{await this.logout(),this.$router.push("/login"),this.$toast?.warning("Your session has expired due to inactivity.")}))},cleanupSessionTimeout(){this.sessionTimeoutCleanup&&(this.sessionTimeoutCleanup(),this.sessionTimeoutCleanup=null)}}};var D=s(262);const $=(0,D.A)(x,[["render",L]]),I=$;var T=s(220);const S={class:"home"},P={class:"jumbotron bg-light p-5 rounded mb-4"},W={class:"row mt-5"},B={class:"col-md-4 mb-4"},X={class:"card h-100 border-success"},U={class:"card-body"},j={class:"col-md-4 mb-4"},O={class:"card h-100 border-success"},z={class:"card-body"},V={class:"col-md-4 mb-4"},M={class:"card h-100 border-success"},N={class:"card-body"},q={class:"row mt-4"},Q={class:"col-md-6 mb-4"},G={class:"card h-100 border-success"},R={class:"card-body"},H={class:"col-md-6 mb-4"},J={class:"card h-100 border-success"},K={class:"card-body"};function Y(e,t,s,a,o,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",S,[(0,r.Lk)("div",P,[t[1]||(t[1]=(0,r.Lk)("h1",{class:"display-4 text-success"},"Welcome to AquaGreen",-1)),t[2]||(t[2]=(0,r.Lk)("hr",{class:"my-4"},null,-1)),t[3]||(t[3]=(0,r.Lk)("p",null,"Upload your Excel files, process data, and visualize greenhouse metrics in one place.",-1)),(0,r.bF)(l,{to:"/upload",class:"btn btn-success btn-lg"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)("Upload Excel File")]))),_:1})]),(0,r.Lk)("div",W,[(0,r.Lk)("div",B,[(0,r.Lk)("div",X,[t[6]||(t[6]=(0,r.Lk)("div",{class:"card-header bg-success text-white"},[(0,r.Lk)("h5",{class:"card-title mb-0"},"Upload Data")],-1)),(0,r.Lk)("div",U,[t[5]||(t[5]=(0,r.Lk)("p",{class:"card-text"},"Upload your greenhouse Excel data files for processing and analysis.",-1)),(0,r.bF)(l,{to:"/upload",class:"btn btn-outline-success"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Upload Files")]))),_:1})])])]),(0,r.Lk)("div",j,[(0,r.Lk)("div",O,[t[9]||(t[9]=(0,r.Lk)("div",{class:"card-header bg-success text-white"},[(0,r.Lk)("h5",{class:"card-title mb-0"},"View Files")],-1)),(0,r.Lk)("div",z,[t[8]||(t[8]=(0,r.Lk)("p",{class:"card-text"},"View and manage your uploaded greenhouse data files.",-1)),(0,r.bF)(l,{to:"/files",class:"btn btn-outline-success"},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)("View Files")]))),_:1})])])]),(0,r.Lk)("div",V,[(0,r.Lk)("div",M,[t[12]||(t[12]=(0,r.Lk)("div",{class:"card-header bg-success text-white"},[(0,r.Lk)("h5",{class:"card-title mb-0"},"Data Visualization")],-1)),(0,r.Lk)("div",N,[t[11]||(t[11]=(0,r.Lk)("p",{class:"card-text"},"Visualize your greenhouse metrics and analyze trends.",-1)),(0,r.bF)(l,{to:"/files",class:"btn btn-outline-success"},{default:(0,r.k6)((()=>t[10]||(t[10]=[(0,r.eW)("Analyze Data")]))),_:1})])])])]),(0,r.Lk)("div",q,[(0,r.Lk)("div",Q,[(0,r.Lk)("div",G,[t[16]||(t[16]=(0,r.Lk)("div",{class:"card-header bg-success text-white"},[(0,r.Lk)("h5",{class:"card-title mb-0"},"Crop Image Management")],-1)),(0,r.Lk)("div",R,[t[14]||(t[14]=(0,r.Lk)("p",{class:"card-text"},"Upload, view, and manage crop images with metadata tracking.",-1)),t[15]||(t[15]=(0,r.Lk)("ul",{class:"mb-3"},[(0,r.Lk)("li",null,"Upload multiple crop images at once"),(0,r.Lk)("li",null,"Associate images with CSV mapping files"),(0,r.Lk)("li",null,"Add detailed metadata to each image")],-1)),(0,r.bF)(l,{to:"/crop-images",class:"btn btn-outline-success"},{default:(0,r.k6)((()=>t[13]||(t[13]=[(0,r.eW)("Manage Crop Images")]))),_:1})])])]),(0,r.Lk)("div",H,[(0,r.Lk)("div",J,[t[20]||(t[20]=(0,r.Lk)("div",{class:"card-header bg-success text-white"},[(0,r.Lk)("h5",{class:"card-title mb-0"},"CSV Mapping Files")],-1)),(0,r.Lk)("div",K,[t[18]||(t[18]=(0,r.Lk)("p",{class:"card-text"},"Upload and process CSV mapping files for crop metadata.",-1)),t[19]||(t[19]=(0,r.Lk)("ul",{class:"mb-3"},[(0,r.Lk)("li",null,"Create structured CSV templates for crop data"),(0,r.Lk)("li",null,"Process and extract metadata automatically"),(0,r.Lk)("li",null,"Link CSV files to multiple crop images")],-1)),(0,r.bF)(l,{to:"/csv-files",class:"btn btn-outline-success"},{default:(0,r.k6)((()=>t[17]||(t[17]=[(0,r.eW)("Manage CSV Files")]))),_:1})])])])])])}const Z={name:"HomeView"},ee=(0,D.A)(Z,[["render",Y],["__scopeId","data-v-72139077"]]),te=ee,se={class:"upload-view"},ae={class:"mb-4"},re={class:"mb-3"},oe={class:"mb-3"},ie={key:0,class:"alert alert-danger"},le={key:1,class:"alert alert-danger"},ne={key:2,class:"alert alert-danger"},ce={class:"d-flex gap-2 mb-3"},de={key:3},ue={class:"table table-bordered"},he={class:"alert alert-success"};function pe(e,t,s,i,l,n){const c=(0,r.g2)("BackButton"),d=(0,r.g2)("router-link"),u=(0,r.g2)("BaseButton"),h=(0,r.g2)("BaseCard");return(0,r.uX)(),(0,r.CE)("div",se,[(0,r.bF)(c),(0,r.Lk)("div",ae,[(0,r.bF)(d,{to:"/",class:"btn btn-sm btn-outline-secondary"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.Lk)("i",{class:"bi bi-arrow-left me-1"},null,-1),(0,r.eW)(" Back ")]))),_:1}),t[4]||(t[4]=(0,r.Lk)("h2",{class:"mt-3 text-success"},"Upload Greenhouse Data",-1))]),(0,r.bF)(h,{class:"mb-4"},{header:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.Lk)("h5",{class:"card-title mb-0"},"Upload Excel File",-1)]))),default:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.uploadFile&&n.uploadFile(...e)),["prevent"]))},[(0,r.Lk)("div",re,[t[6]||(t[6]=(0,r.Lk)("label",{for:"title",class:"form-label"},"Title",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>l.title=e),placeholder:"Enter a descriptive title for your data",required:""},null,512),[[a.Jo,l.title]]),t[7]||(t[7]=(0,r.Lk)("div",{class:"form-text"},"Give your file a meaningful name related to your greenhouse data.",-1))]),(0,r.Lk)("div",oe,[t[8]||(t[8]=(0,r.Lk)("label",{for:"file",class:"form-label"},"Excel File",-1)),(0,r.Lk)("input",{type:"file",class:"form-control",id:"file",onChange:t[1]||(t[1]=(...e)=>n.handleFileChange&&n.handleFileChange(...e)),accept:".xlsx,.xls",required:""},null,32),t[9]||(t[9]=(0,r.Lk)("div",{class:"form-text"},"Accepted formats: .xlsx, .xls (Excel files only)",-1))]),l.fileError?((0,r.uX)(),(0,r.CE)("div",ie,[t[10]||(t[10]=(0,r.Lk)("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),(0,r.eW)(" "+(0,o.v_)(l.fileError),1)])):(0,r.Q3)("",!0),l.previewError?((0,r.uX)(),(0,r.CE)("div",le,[t[11]||(t[11]=(0,r.Lk)("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),(0,r.eW)(" "+(0,o.v_)(l.previewError),1)])):(0,r.Q3)("",!0),e.error?((0,r.uX)(),(0,r.CE)("div",ne,[t[12]||(t[12]=(0,r.Lk)("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),(0,r.eW)(" "+(0,o.v_)("object"===typeof e.error?Object.values(e.error).flat().join(", "):e.error),1)])):(0,r.Q3)("",!0),(0,r.Lk)("div",ce,[(0,r.bF)(u,{variant:"info",disabled:!l.file||l.previewLoading,loading:l.previewLoading,onClick:n.previewFile},{default:(0,r.k6)((()=>t[13]||(t[13]=[(0,r.eW)(" Preview Data ")]))),_:1},8,["disabled","loading","onClick"]),(0,r.bF)(u,{variant:"success",disabled:e.loading||!l.file||!l.previewData.length,loading:e.loading,type:"submit"},{default:(0,r.k6)((()=>t[14]||(t[14]=[(0,r.eW)(" Confirm Upload ")]))),_:1},8,["disabled","loading"])]),l.previewData.length?((0,r.uX)(),(0,r.CE)("div",de,[t[15]||(t[15]=(0,r.Lk)("h5",null,"Data Preview (first 5 rows)",-1)),(0,r.Lk)("table",ue,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(Object.keys(l.previewData[0]),(e=>((0,r.uX)(),(0,r.CE)("th",{key:e},(0,o.v_)(e),1)))),128))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.previewData,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(Object.keys(e),(t=>((0,r.uX)(),(0,r.CE)("td",{key:t},(0,o.v_)(e[t]),1)))),128))])))),128))])])])):(0,r.Q3)("",!0)],32)])),_:1}),(0,r.bF)(h,null,{header:(0,r.k6)((()=>t[16]||(t[16]=[(0,r.Lk)("h5",{class:"card-title mb-0"},"Upload Guidelines",-1)]))),default:(0,r.k6)((()=>[t[21]||(t[21]=(0,r.Lk)("h6",{class:"card-subtitle mb-3 text-success"},"How to prepare your greenhouse data files:",-1)),t[22]||(t[22]=(0,r.Lk)("ul",{class:"list-group list-group-flush mb-3"},[(0,r.Lk)("li",{class:"list-group-item bg-light"},[(0,r.Lk)("i",{class:"bi bi-check-circle-fill text-success me-2"}),(0,r.eW)(" Ensure your Excel file contains greenhouse data in a structured format ")]),(0,r.Lk)("li",{class:"list-group-item bg-light"},[(0,r.Lk)("i",{class:"bi bi-check-circle-fill text-success me-2"}),(0,r.eW)(" Include headers in your Excel file for better data identification ")]),(0,r.Lk)("li",{class:"list-group-item"},[(0,r.Lk)("i",{class:"bi bi-check-circle-fill text-success me-2"}),(0,r.eW)(" Maximum file size: 10MB ")])],-1)),(0,r.Lk)("div",he,[t[18]||(t[18]=(0,r.Lk)("i",{class:"bi bi-info-circle-fill me-2"},null,-1)),t[19]||(t[19]=(0,r.eW)(" After uploading, you can view and analyze your data in the ")),(0,r.bF)(d,{to:"/files",class:"alert-link"},{default:(0,r.k6)((()=>t[17]||(t[17]=[(0,r.eW)("Files section")]))),_:1}),t[20]||(t[20]=(0,r.eW)(". "))])])),_:1})])}var me=s(959),ge=s(753),fe=s(228);function be(e,t,s,a,o,i){return(0,r.uX)(),(0,r.CE)("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"btn btn-outline-secondary back-button"},t[1]||(t[1]=[(0,r.Lk)("i",{class:"bi bi-arrow-left me-1"},null,-1),(0,r.eW)(" Back ")]))}const ke={name:"BackButton",methods:{goBack(){window.history.length>1?this.$router.go(-1):this.$router.push("/")}}},ve=(0,D.A)(ke,[["render",be],["__scopeId","data-v-c98dc6d2"]]),ye=ve,Le={name:"UploadView",components:{BaseButton:ge.A,BaseCard:fe.A,BackButton:ye},data(){return{title:"",file:null,fileError:null,previewData:[],previewLoading:!1,previewError:null,isUploading:!1,uploadProgress:0}},computed:{...(0,C.aH)(["loading","error"])},methods:{...(0,C.i0)(["uploadFile"]),handleFileChange(e){const t=e.target.files[0];if(this.fileError=null,!t)return void(this.file=null);const s=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];if(!s.includes(t.type))return this.fileError="Invalid file type. Please upload an Excel file (.xlsx or .xls)",void(this.file=null);const a=10485760;if(t.size>a)return this.fileError="File is too large. Maximum size is 10MB",void(this.file=null);this.file=t},async previewFile(){this.previewError=null,this.previewLoading=!0;try{this.previewData=await this.parseExcel(this.file)}catch(e){this.previewError="Failed to parse file"}finally{this.previewLoading=!1}},parseExcel(e){return new Promise(((t,s)=>{const a=new FileReader;a.onload=e=>{const s=new Uint8Array(e.target.result),a=me.LF(s,{type:"array"}),r=a.SheetNames[0],o=a.Sheets[r],i=me.Wp.sheet_to_json(o,{header:1}),l=i[0]||[],n=i.slice(1,6),c=n.map((e=>{const t={};return l.forEach(((s,a)=>{t[s]=e[a]})),t}));t(c)},a.onerror=e=>s(e),a.readAsArrayBuffer(e)}))},async uploadFile(){if(this.file)if(0!==this.file.size){this.isUploading=!0,this.uploadProgress=0;try{const e=new FormData;e.append("title",this.title),e.append("file",this.file);const t=await this.$store.dispatch("uploadFile",e);this.$toast?.success("File uploaded successfully"),t&&t.id?this.$router.push(`/files/${t.id}`):this.$router.push("/files")}catch(e){if(console.error("Upload error:",e.response?.data||e),e.response?.data?.error)this.$toast?.error(`Error: ${e.response.data.error}`);else if(e.response?.data?.detail)this.$toast?.error(`Error: ${e.response.data.detail}`);else if(e.response?.data)if("object"===typeof e.response.data){const t=Object.entries(e.response.data).map((([e,t])=>`${e}: ${t}`)).join(", ");this.$toast?.error(`Validation errors: ${t}`)}else this.$toast?.error(`Error: ${e.response.data}`);else this.$toast?.error("Failed to upload file. Please try again.")}finally{this.isUploading=!1}}else this.$toast?.error("File is empty. Please select a valid file.");else this.$toast?.error("Please select a file to upload")}}},Ce=(0,D.A)(Le,[["render",pe],["__scopeId","data-v-1b57e29a"]]),we=Ce,Fe={class:"files-view"},_e={class:"mb-4"},Ee={key:0,class:"text-center my-5"},Ae={key:1,class:"alert alert-danger"},xe={key:2,class:"alert alert-info"},De={class:"mb-0"},$e={key:3},Ie={class:"mb-3"},Te={class:"input-group"},Se={class:"table-responsive"},Pe={class:"table table-hover"},We={class:"btn-group"},Be=["onClick","disabled"],Xe={key:0,class:"spinner-border spinner-border-sm me-1"},Ue=["onClick"],je={class:"mt-4 text-center"};function Oe(e,t,s,i,l,n){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Fe,[(0,r.Lk)("div",_e,[(0,r.bF)(c,{to:"/",class:"btn btn-sm btn-outline-secondary"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.Lk)("i",{class:"bi bi-arrow-left me-1"},null,-1),(0,r.eW)(" Back ")]))),_:1}),t[2]||(t[2]=(0,r.Lk)("h2",{class:"mt-3"},"Greenhouse Data Files",-1))]),e.loading?((0,r.uX)(),(0,r.CE)("div",Ee,t[3]||(t[3]=[(0,r.Lk)("div",{class:"spinner-border text-success",role:"status"},[(0,r.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,r.Lk)("p",{class:"mt-2"},"Loading files...",-1)]))):e.error?((0,r.uX)(),(0,r.CE)("div",Ae,(0,o.v_)(e.error),1)):0===e.files.length?((0,r.uX)(),(0,r.CE)("div",xe,[(0,r.Lk)("p",De,[t[5]||(t[5]=(0,r.eW)("No files uploaded yet. ")),(0,r.bF)(c,{to:"/upload",class:"alert-link"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Upload your first file")]))),_:1}),t[6]||(t[6]=(0,r.eW)("."))])])):((0,r.uX)(),(0,r.CE)("div",$e,[(0,r.Lk)("div",Ie,[(0,r.Lk)("div",Te,[t[7]||(t[7]=(0,r.Lk)("span",{class:"input-group-text bg-success text-white"},[(0,r.Lk)("i",{class:"bi bi-search"})],-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control border-success",placeholder:"Search files...","onUpdate:modelValue":t[0]||(t[0]=e=>l.searchTerm=e)},null,512),[[a.Jo,l.searchTerm]])])]),(0,r.Lk)("div",Se,[(0,r.Lk)("table",Pe,[t[11]||(t[11]=(0,r.Lk)("thead",{class:"bg-success text-white"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Title"),(0,r.Lk)("th",null,"Upload Date"),(0,r.Lk)("th",null,"Status"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.filteredFiles,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,o.v_)(e.title),1),(0,r.Lk)("td",null,(0,o.v_)(n.formatDate(e.uploaded_at)),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,o.C4)(["badge",e.processed?"bg-success":"bg-warning text-dark"])},(0,o.v_)(e.processed?"Processed":"Pending"),3)]),(0,r.Lk)("td",null,[(0,r.Lk)("div",We,[(0,r.bF)(c,{to:{name:"file-detail",params:{id:e.id}},class:"btn btn-sm btn-outline-success"},{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.eW)(" View Details ")]))),_:2},1032,["to"]),e.processed?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,class:"btn btn-sm btn-success",onClick:t=>n.processFile(e.id),disabled:l.processingFile===e.id},[l.processingFile===e.id?((0,r.uX)(),(0,r.CE)("span",Xe)):(0,r.Q3)("",!0),t[9]||(t[9]=(0,r.eW)(" Process "))],8,Be)),(0,r.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>n.confirmDeleteFile(e)},t[10]||(t[10]=[(0,r.Lk)("i",{class:"bi bi-trash"},null,-1)]),8,Ue)])])])))),128))])])]),(0,r.Lk)("div",je,[(0,r.bF)(c,{to:"/upload",class:"btn btn-success"},{default:(0,r.k6)((()=>t[12]||(t[12]=[(0,r.Lk)("i",{class:"bi bi-upload me-1"},null,-1),(0,r.eW)(" Upload New File ")]))),_:1})])]))])}const ze={name:"FilesView",data(){return{searchTerm:"",processingFile:null}},computed:{...(0,C.aH)(["files","loading","error"]),filteredFiles(){if(!this.searchTerm)return this.files;const e=this.searchTerm.toLowerCase();return this.files.filter((t=>t.title.toLowerCase().includes(e)))}},created(){this.loadFiles()},methods:{...(0,C.i0)(["fetchFiles","processFile","deleteFile"]),async loadFiles(){try{console.log("Fetching files...");const e=await this.$store.dispatch("fetchFiles");console.log("Files fetched:",e),e&&0===e.length&&console.log("No files returned from API")}catch(e){console.error("Error fetching files:",e),this.$toast.error("Failed to load files")}},async processFile(e){this.processingFile=e;try{await this.$store.dispatch("processFile",e),await this.fetchFiles(),this.$toast.success("File processed successfully")}catch(t){this.$toast.error("Failed to process file"),console.error("Error processing file:",t)}finally{this.processingFile=null}},async confirmDeleteFile(e){if(confirm(`Are you sure you want to delete ${e.title}?`))try{await this.$store.dispatch("deleteFile",e.id),await this.fetchFiles(),this.$toast.success("File deleted successfully")}catch(t){this.$toast.error("Failed to delete file"),console.error("Error deleting file:",t)}},formatDate(e){if(!e)return"";const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}}},Ve=(0,D.A)(ze,[["render",Oe],["__scopeId","data-v-7ad95c62"]]),Me=Ve,Ne={class:"file-detail"},qe={key:0,class:"text-center my-5"},Qe={key:1,class:"alert alert-danger"},Ge={key:2,class:"alert alert-warning"},Re={key:3},He={class:"mb-4"},Je={class:"mt-3"},Ke={class:"card mb-4"},Ye={class:"card-header bg-light d-flex justify-content-between align-items-center"},Ze={class:"card-body"},et={class:"row"},tt={class:"col-md-6"},st={class:"list-group"},at={class:"list-group-item"},rt={class:"list-group-item"},ot={class:"list-group-item"},it={class:"col-md-6"},lt={class:"list-group"},nt={class:"list-group-item"},ct={class:"list-group-item"},dt={class:"list-group-item"},ut={key:0,class:"d-grid gap-2"},ht=["disabled"],pt={key:0,class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},mt={key:1},gt={key:0,class:"alert alert-info mb-4"},ft={key:1,class:"card mb-4"},bt={class:"card-body"},kt={class:"row mb-4"},vt={class:"col-md-3 mb-3"},yt={class:"card bg-success text-white h-100"},Lt={class:"card-body"},Ct={class:"col-md-3 mb-3"},wt={class:"card bg-info text-white h-100"},Ft={class:"card-body"},_t={class:"col-md-3 mb-3"},Et={class:"card bg-warning text-dark h-100"},At={class:"card-body"},xt={class:"col-md-3 mb-3"},Dt={class:"card bg-primary text-white h-100"},$t={class:"card-body"},It={class:"row"},Tt={class:"col-md-6 mb-4"},St={ref:"barChart"},Pt={class:"col-md-6 mb-4"},Wt={ref:"pieChart"},Bt={class:"card"},Xt={class:"card-header bg-light d-flex justify-content-between align-items-center"},Ut={class:"btn-group",role:"group"},jt={class:"card-body"},Ot={key:0,class:"alert alert-warning"},zt={key:1,class:"alert alert-info"},Vt={key:2},Mt={class:"mt-4"},Nt={class:"row"},qt={class:"col-md-6 mb-4"},Qt={class:"col-md-6 mb-4"},Gt={class:"col-md-6 mb-4"},Rt={class:"col-md-6 mb-4"};function Ht(e,t,s,a,i,l){const n=(0,r.g2)("router-link"),c=(0,r.g2)("excel-viewer"),d=(0,r.g2)("chart-container");return(0,r.uX)(),(0,r.CE)("div",Ne,[e.loading?((0,r.uX)(),(0,r.CE)("div",qe,t[3]||(t[3]=[(0,r.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,r.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,r.Lk)("p",{class:"mt-2"},"Loading data...",-1)]))):e.error?((0,r.uX)(),(0,r.CE)("div",Qe,(0,o.v_)(e.error),1)):e.currentFile?((0,r.uX)(),(0,r.CE)("div",Re,[(0,r.Lk)("div",He,[(0,r.bF)(n,{to:"/files",class:"btn btn-sm btn-outline-secondary"},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.Lk)("i",{class:"bi bi-arrow-left me-1"},null,-1),(0,r.eW)(" Back to Files ")]))),_:1}),(0,r.Lk)("h1",Je,(0,o.v_)(e.currentFile.title),1)]),(0,r.Lk)("div",Ke,[(0,r.Lk)("div",Ye,[t[9]||(t[9]=(0,r.Lk)("h5",{class:"card-title mb-0"},"File Information",-1)),(0,r.Lk)("div",null,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.confirmDeleteFile&&l.confirmDeleteFile(...e)),class:"btn btn-sm btn-outline-danger ms-2"},t[8]||(t[8]=[(0,r.Lk)("i",{class:"bi bi-trash"},null,-1),(0,r.eW)(" Delete ")]))]),(0,r.Lk)("span",{class:(0,o.C4)(e.currentFile.processed?"badge bg-success":"badge bg-warning text-dark")},(0,o.v_)(e.currentFile.processed?"Processed":"Pending"),3)]),(0,r.Lk)("div",Ze,[(0,r.Lk)("div",et,[(0,r.Lk)("div",tt,[(0,r.Lk)("ul",st,[(0,r.Lk)("li",at,[t[10]||(t[10]=(0,r.Lk)("strong",null,"File Name:",-1)),(0,r.eW)(" "+(0,o.v_)(e.currentFile.title),1)]),(0,r.Lk)("li",rt,[t[11]||(t[11]=(0,r.Lk)("strong",null,"Upload Date:",-1)),(0,r.eW)(" "+(0,o.v_)(l.formatDate(e.currentFile.uploaded_at)),1)]),(0,r.Lk)("li",ot,[t[12]||(t[12]=(0,r.Lk)("strong",null,"Uploaded By:",-1)),(0,r.eW)(" "+(0,o.v_)(e.currentFile.uploaded_by?.username||"Unknown"),1)])])]),(0,r.Lk)("div",it,[(0,r.Lk)("ul",lt,[(0,r.Lk)("li",nt,[t[13]||(t[13]=(0,r.Lk)("strong",null,"File Size:",-1)),(0,r.eW)(" "+(0,o.v_)(l.formatFileSize(e.currentFile.file_size_in_bytes)),1)]),(0,r.Lk)("li",ct,[t[14]||(t[14]=(0,r.Lk)("strong",null,"File Type:",-1)),(0,r.eW)(" "+(0,o.v_)(l.getFileExtension(e.currentFile.file)),1)]),(0,r.Lk)("li",dt,[e.currentFile.processed?((0,r.uX)(),(0,r.CE)("div",mt,t[15]||(t[15]=[(0,r.Lk)("span",{class:"text-success"},[(0,r.Lk)("i",{class:"bi bi-check-circle me-1"}),(0,r.eW)(" Processed successfully")],-1)]))):((0,r.uX)(),(0,r.CE)("div",ut,[(0,r.Lk)("button",{class:"btn btn-success",onClick:t[1]||(t[1]=t=>l.processFile(e.currentFile.id)),disabled:i.processingFile},[i.processingFile?((0,r.uX)(),(0,r.CE)("span",pt)):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,o.v_)(i.processingFile?"Processing...":"Process File"),1)],8,ht)]))])])])])])]),i.showProcessingMessage&&!e.currentFile.processed?((0,r.uX)(),(0,r.CE)("div",gt,t[16]||(t[16]=[(0,r.Lk)("div",{class:"d-flex align-items-center"},[(0,r.Lk)("div",{class:"spinner-border spinner-border-sm text-info me-2",role:"status"}),(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,"Work in progress:"),(0,r.eW)(" Processing your file. This may take a moment... ")])],-1)]))):(0,r.Q3)("",!0),e.currentFile.processed?((0,r.uX)(),(0,r.CE)("div",ft,[t[21]||(t[21]=(0,r.Lk)("div",{class:"card-header bg-light"},[(0,r.Lk)("h5",{class:"card-title mb-0"},"Data Analysis")],-1)),(0,r.Lk)("div",bt,[(0,r.Lk)("div",kt,[(0,r.Lk)("div",vt,[(0,r.Lk)("div",yt,[(0,r.Lk)("div",Lt,[t[17]||(t[17]=(0,r.Lk)("h5",{class:"card-title"},"Rows",-1)),(0,r.Lk)("h3",null,(0,o.v_)(e.processedData?.length||0),1)])])]),(0,r.Lk)("div",Ct,[(0,r.Lk)("div",wt,[(0,r.Lk)("div",Ft,[t[18]||(t[18]=(0,r.Lk)("h5",{class:"card-title"},"Columns",-1)),(0,r.Lk)("h3",null,(0,o.v_)(e.processedData&&e.processedData[0]?Object.keys(e.processedData[0]).length:0),1)])])]),(0,r.Lk)("div",_t,[(0,r.Lk)("div",Et,[(0,r.Lk)("div",At,[t[19]||(t[19]=(0,r.Lk)("h5",{class:"card-title"},"File Size",-1)),(0,r.Lk)("h3",null,(0,o.v_)(l.formatFileSize(e.currentFile.file_size_in_bytes)),1)])])]),(0,r.Lk)("div",xt,[(0,r.Lk)("div",Dt,[(0,r.Lk)("div",$t,[t[20]||(t[20]=(0,r.Lk)("h5",{class:"card-title"},"Processed",-1)),(0,r.Lk)("h3",null,(0,o.v_)(l.formatDate(e.currentFile.processed_at)||"Yes"),1)])])])]),(0,r.Lk)("div",It,[(0,r.Lk)("div",Tt,[(0,r.Lk)("canvas",St,null,512)]),(0,r.Lk)("div",Pt,[(0,r.Lk)("canvas",Wt,null,512)])])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",Bt,[(0,r.Lk)("div",Xt,[t[23]||(t[23]=(0,r.Lk)("h5",{class:"card-title mb-0"},"Processed Data",-1)),(0,r.Lk)("div",Ut,[(0,r.Lk)("button",{class:"btn btn-sm btn-outline-primary",onClick:t[2]||(t[2]=(...e)=>l.refreshData&&l.refreshData(...e))},t[22]||(t[22]=[(0,r.Lk)("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),(0,r.eW)(" Refresh ")]))])]),(0,r.Lk)("div",jt,[e.currentFile.processed||e.processedData?e.processedData&&0!==e.processedData.length?((0,r.uX)(),(0,r.CE)("div",Vt,[(0,r.bF)(c,{data:e.processedData,onExportCsv:l.exportCSV},null,8,["data","onExportCsv"]),(0,r.Lk)("div",Mt,[t[26]||(t[26]=(0,r.Lk)("h5",{class:"mb-3"},"Data Visualization",-1)),(0,r.Lk)("div",Nt,[(0,r.Lk)("div",qt,[l.soilMetricsData.datasets.length>0?((0,r.uX)(),(0,r.Wv)(d,{key:0,title:"Soil Metrics Comparison","chart-data":l.soilMetricsData,options:i.barChartOptions,description:"Comparison of soil pH, moisture, temperature and EC","initial-chart-type":"bar",showControls:!1},null,8,["chart-data","options"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Qt,[l.plantHealthData.datasets.length>0?((0,r.uX)(),(0,r.Wv)(d,{key:0,title:"Plant Health Metrics","chart-data":l.plantHealthData,options:i.lineChartOptions,description:"Death plants count over time",showControls:!1},null,8,["chart-data","options"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Gt,[l.financialData.labels.length>0?((0,r.uX)(),(0,r.Wv)(d,{key:0,title:"Financial Overview","chart-data":l.financialData,options:i.pieChartOptions,description:"Income vs Expenses breakdown","initial-chart-type":"pie",showControls:!1},null,8,["chart-data","options"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Rt,[l.soilPhDistributionData.labels.length>0?((0,r.uX)(),(0,r.Wv)(d,{key:0,title:"Soil pH Distribution","chart-data":l.soilPhDistributionData,options:i.pieChartOptions,description:"Distribution of soil pH levels","initial-chart-type":"pie",showControls:!1},null,8,["chart-data","options"])):(0,r.Q3)("",!0)])])])])):((0,r.uX)(),(0,r.CE)("div",zt,t[25]||(t[25]=[(0,r.Lk)("i",{class:"bi bi-info-circle-fill me-2"},null,-1),(0,r.eW)(" No processed data available for this file. ")]))):((0,r.uX)(),(0,r.CE)("div",Ot,t[24]||(t[24]=[(0,r.Lk)("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1),(0,r.eW)(' This file has not been processed yet. Click "Process File" above to extract the data. ')])))])])])):((0,r.uX)(),(0,r.CE)("div",Ge,[t[5]||(t[5]=(0,r.eW)(" File not found. ")),(0,r.bF)(n,{to:"/files"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Return to files list")]))),_:1}),t[6]||(t[6]=(0,r.eW)(". "))]))])}const Jt={class:"chart-section"},Kt={class:"chart-header d-flex justify-content-between align-items-center mb-3"},Yt={key:0,class:"btn-group"},Zt=["onClick"],es={class:"chart-wrapper"},ts={key:0,class:"chart-description text-muted small mt-2"};function ss(e,t,s,a,i,l){const n=(0,r.g2)("line-chart"),c=(0,r.g2)("bar-chart"),d=(0,r.g2)("pie-chart");return(0,r.uX)(),(0,r.CE)("div",Jt,[(0,r.Lk)("div",Kt,[(0,r.Lk)("h5",null,(0,o.v_)(s.title),1),s.showControls?((0,r.uX)(),(0,r.CE)("div",Yt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.availableChartTypes,(e=>((0,r.uX)(),(0,r.CE)("button",{key:e.value,class:(0,o.C4)(["btn btn-sm",i.chartType===e.value?"btn-success":"btn-outline-success"]),onClick:t=>l.setChartType(e.value)},[(0,r.Lk)("i",{class:(0,o.C4)([e.icon,"me-1"])},null,2),(0,r.eW)(" "+(0,o.v_)(e.label),1)],10,Zt)))),128))])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",es,["line"===i.chartType?((0,r.uX)(),(0,r.Wv)(n,{key:0,"chart-data":s.chartData,options:l.chartOptions},null,8,["chart-data","options"])):"bar"===i.chartType?((0,r.uX)(),(0,r.Wv)(c,{key:1,"chart-data":s.chartData,options:l.chartOptions},null,8,["chart-data","options"])):"pie"===i.chartType?((0,r.uX)(),(0,r.Wv)(d,{key:2,"chart-data":s.chartData,options:l.chartOptions},null,8,["chart-data","options"])):(0,r.Q3)("",!0)]),s.description?((0,r.uX)(),(0,r.CE)("div",ts,(0,o.v_)(s.description),1)):(0,r.Q3)("",!0)])}const as={class:"chart-container"},rs={ref:"chart"};function os(e,t,s,a,o,i){return(0,r.uX)(),(0,r.CE)("div",as,[(0,r.Lk)("canvas",rs,null,512)])}var is=s(468);is.Chart.register(...is.registerables);const ls={name:"LineChart",props:{chartData:{type:Object,required:!0},options:{type:Object,default:()=>({})}},data(){return{chart:null}},mounted(){this.renderChart()},methods:{renderChart(){const e=this.$refs.chart.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new is.Chart(e,{type:"line",data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1,...this.options}})}},watch:{chartData:{deep:!0,handler(){this.renderChart()}}},beforeDestroy(){this.chart&&this.chart.destroy()}},ns=(0,D.A)(ls,[["render",os],["__scopeId","data-v-9d0a4b28"]]),cs=ns,ds={class:"chart-container"},us={ref:"chart"};function hs(e,t,s,a,o,i){return(0,r.uX)(),(0,r.CE)("div",ds,[(0,r.Lk)("canvas",us,null,512)])}is.Chart.register(...is.registerables);const ps={name:"BarChart",props:{chartData:{type:Object,required:!0},options:{type:Object,default:()=>({})}},data(){return{chart:null}},mounted(){this.renderChart()},methods:{renderChart(){const e=this.$refs.chart.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new is.Chart(e,{type:"bar",data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1,...this.options}})}},watch:{chartData:{deep:!0,handler(){this.renderChart()}}},beforeDestroy(){this.chart&&this.chart.destroy()}},ms=(0,D.A)(ps,[["render",hs],["__scopeId","data-v-5796443e"]]),gs=ms,fs={class:"chart-container"},bs={ref:"chart"};function ks(e,t,s,a,o,i){return(0,r.uX)(),(0,r.CE)("div",fs,[(0,r.Lk)("canvas",bs,null,512)])}is.Chart.register(...is.registerables);const vs={name:"PieChart",props:{chartData:{type:Object,required:!0},options:{type:Object,default:()=>({})}},data(){return{chart:null}},mounted(){this.renderChart()},methods:{renderChart(){const e=this.$refs.chart.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new is.Chart(e,{type:"pie",data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1,...this.options}})}},watch:{chartData:{deep:!0,handler(){this.renderChart()}}},beforeDestroy(){this.chart&&this.chart.destroy()}},ys=(0,D.A)(vs,[["render",ks],["__scopeId","data-v-684fa930"]]),Ls=ys,Cs={name:"ChartContainer",components:{LineChart:cs,BarChart:gs,PieChart:Ls},props:{title:{type:String,required:!0},chartData:{type:Object,required:!0},options:{type:Object,default:()=>({})},description:{type:String,default:""},initialChartType:{type:String,default:"line"},showControls:{type:Boolean,default:!0}},data(){return{chartType:this.initialChartType,availableChartTypes:[{value:"line",label:"Line",icon:"bi bi-graph-up"},{value:"bar",label:"Bar",icon:"bi bi-bar-chart"},{value:"pie",label:"Pie",icon:"bi bi-pie-chart"}]}},computed:{chartOptions(){return{plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},...this.options}}},methods:{setChartType(e){this.chartType=e}}},ws=(0,D.A)(Cs,[["render",ss],["__scopeId","data-v-ee3068c0"]]),Fs=ws,_s={class:"excel-viewer"},Es={class:"excel-toolbar mb-2 d-flex justify-content-between align-items-center"},As={class:"btn-group"},xs={class:"table-type-selector"},Ds={key:0,class:"alert alert-info"},$s={key:1,class:"excel-container"},Is={class:"excel-header"},Ts={class:"excel-column-names"},Ss=["title"],Ps={class:"excel-body"},Ws={class:"excel-row-header"};function Bs(e,t,s,i,l,n){return(0,r.uX)(),(0,r.CE)("div",_s,[(0,r.Lk)("div",Es,[(0,r.Lk)("div",As,[(0,r.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:t[0]||(t[0]=(...e)=>n.downloadExcel&&n.downloadExcel(...e))},t[3]||(t[3]=[(0,r.Lk)("i",{class:"bi bi-file-earmark-excel me-1"},null,-1),(0,r.eW)(" Download Excel ")])),(0,r.Lk)("button",{class:"btn btn-sm btn-outline-success",onClick:t[1]||(t[1]=t=>e.$emit("export-csv"))},t[4]||(t[4]=[(0,r.Lk)("i",{class:"bi bi-download me-1"},null,-1),(0,r.eW)(" Export CSV ")]))]),(0,r.Lk)("div",xs,[t[6]||(t[6]=(0,r.Lk)("span",{class:"me-2"},"Data Type:",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[2]||(t[2]=e=>l.detectedTableType=e),style:{width:"auto",display:"inline-block"}},t[5]||(t[5]=[(0,r.Lk)("option",{value:"environmental"},"Environmental Data",-1),(0,r.Lk)("option",{value:"production"},"Production Data",-1),(0,r.Lk)("option",{value:"averages"},"Environmental Averages",-1),(0,r.Lk)("option",{value:"generic"},"Generic Data",-1)]),512),[[a.u1,l.detectedTableType]])])]),s.data&&0!==s.data.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Ds," No data available to display. ")),s.data&&s.data.length>0?((0,r.uX)(),(0,r.CE)("div",$s,[(0,r.Lk)("div",Is,[t[7]||(t[7]=(0,r.Lk)("div",{class:"excel-corner-cell"},null,-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.columnLetters.slice(0,n.sortedColumns.length),((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:"col-"+t,class:"excel-header-cell"},(0,o.v_)(e),1)))),128))]),(0,r.Lk)("div",Ts,[t[8]||(t[8]=(0,r.Lk)("div",{class:"excel-row-header"},"#",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.sortedColumns,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:"colname-"+t,class:"excel-column-name",title:e},(0,o.v_)(n.formatColumnName(e)),9,Ss)))),128))]),(0,r.Lk)("div",Ps,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.data,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,o.C4)(["excel-row",{"excel-row-even":t%2===0}]),key:"row-"+t},[(0,r.Lk)("div",Ws,(0,o.v_)(t+1),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.sortedColumns,((s,a)=>((0,r.uX)(),(0,r.CE)("div",{key:"cell-"+t+"-"+a,class:(0,o.C4)(["excel-cell",{"numeric-cell":"number"===typeof e[s],"date-cell":s.toLowerCase().includes("date")||"time"===s.toLowerCase(),"soil-ph-cell":"soil_ph"===s.toLowerCase(),"soil-moisture-cell":"soil_moisture"===s.toLowerCase(),"soil-temp-cell":"soil_temp"===s.toLowerCase(),"soil-ec-cell":"soil_ec"===s.toLowerCase(),"temperature-cell":s.toLowerCase().includes("temperature"),"humidity-cell":s.toLowerCase().includes("humidity"),"rain-cell":"rain"===s.toLowerCase(),"soil-moisture-env-cell":s.toLowerCase().includes("soil_moisture_"),"yield-cell":"total_yield"===s.toLowerCase(),"financial-cell":["income","expense","net_income"].includes(s.toLowerCase()),"identifier-cell":"nethouse_code"===s.toLowerCase()||"crop_type"===s.toLowerCase(),"average-temp-cell":s.toLowerCase().includes("avg")&&s.toLowerCase().includes("temp"),"average-humidity-cell":s.toLowerCase().includes("avg")&&s.toLowerCase().includes("humidity"),"total-rainfall-cell":"total_rainfall"===s.toLowerCase(),"average-moisture-cell":s.toLowerCase().includes("soil_moisture_")}])},(0,o.v_)(n.formatCellValue(e[s],s)),3)))),128))],2)))),128))])])):(0,r.Q3)("",!0)])}const Xs={name:"ExcelViewer",props:{data:{type:Array,required:!0}},data(){return{columnLetters:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",detectedTableType:"generic"}},computed:{columns(){return this.data&&0!==this.data.length?this.data.reduce(((e,t)=>(Object.keys(t).forEach((t=>{e.includes(t)||e.push(t)})),e)),[]):[]},rows(){return this.data&&0!==this.data.length?[null,...this.data]:[]},tableType(){if(!this.data||0===this.data.length)return"generic";const e=this.columns.map((e=>e.toLowerCase()));return e.includes("time")&&(e.includes("temperature_2m")||e.includes("soil_temperature_0cm"))?"environmental":e.includes("nethouse_code")&&(e.includes("crop_type")||e.includes("total_yield"))?"production":e.includes("growing_period")&&(e.includes("avg_air_temp_2m")||e.includes("avg_soil_temp_0cm"))?"averages":e.includes("record_no")&&(e.includes("soil_ph")||e.includes("soil_ec"))?"fix_column":"generic"},sortedColumns(){const e=this.detectedTableType||this.tableType,t={environmental:["time","temperature_2m","relative_humidity_2m","rain","weather_code","soil_temperature_0cm","soil_temperature_6cm","soil_temperature_18cm","soil_temperature_54cm","soil_moisture_0_to_1cm","soil_moisture_1_to_3cm","soil_moisture_3_to_9cm","soil_moisture_9_to_27cm","soil_moisture_27_to_81cm"],production:["nethouse_code","crop_type","germination_date","transplantation_date","harvest_date","total_yield","income","expense","net_income","number_of_plant"],averages:["nethouse_code","growing_period","avg_air_temp_2m","avg_relative_humidity","total_rainfall","avg_soil_temp_0cm","avg_soil_temp_6cm","avg_soil_temp_18cm","avg_soil_temp_54cm","soil_moisture_0to1cm","soil_moisture_1to3cm","soil_moisture_3to9cm","soil_moisture_9to27cm","soil_moisture_27to81cm"],fix_column:["record_no","date","death_plants","soil_moisture","soil_ph","soil_temp","soil_ec"],generic:["id","name","code","date","time","timestamp","temperature","humidity","moisture"]},s=t[e]||t.generic;return[...this.columns].sort(((e,t)=>{const a=s.findIndex((t=>e.toLowerCase()===t.toLowerCase()||e.toLowerCase().includes(t.toLowerCase()))),r=s.findIndex((e=>t.toLowerCase()===e.toLowerCase()||t.toLowerCase().includes(e.toLowerCase())));return-1!==a&&-1!==r?a-r:-1!==a?-1:-1!==r?1:e.localeCompare(t)}))},formattedData(){if(!this.data||0===this.data.length)return[];const e=this.columns,t=[e.map((e=>this.formatColumnName(e)))];return this.data.forEach((s=>{const a=e.map((e=>void 0!==s[e]?s[e]:""));t.push(a)})),t}},methods:{formatCellValue(e,t){if(void 0===e||null===e)return"";const s=this.detectedTableType||this.tableType,a=t?t.toLowerCase():"";if("string"===typeof e&&e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)||"date"===a||"time"===a||a.includes("_date"))return new Date(e).toLocaleDateString();if("number"===typeof e){if("environmental"===s){if(a.includes("temperature"))return e.toFixed(1)+" °C";if(a.includes("humidity"))return Math.round(e)+" %";if("rain"===a)return e.toFixed(1)+" mm";if(a.includes("moisture"))return e.toFixed(3)+" m³/m³"}else if("production"===s){if("total_yield"===a)return Math.round(e)+" kg";if("income"===a||"expense"===a||"net_income"===a)return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);if("number_of_plant"===a)return Math.round(e)}else if("averages"===s){if(a.includes("temp"))return e.toFixed(1)+" °C";if(a.includes("humidity"))return e.toFixed(1)+" %";if(a.includes("rainfall"))return e.toFixed(1)+" mm";if(a.includes("moisture"))return e.toFixed(3)+" m³/m³"}else if("fix_column"===s){if("soil_ph"===a)return e.toFixed(2);if("soil_ec"===a)return e.toFixed(3);if("soil_moisture"===a||"soil_temp"===a)return e.toFixed(1)}return Number.isInteger(e)||e.toString().split(".")[1]?.length<=2?e:e.toFixed(2)}return e},formatColumnName(e){return e?e.replace(/_/g," ").replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())).trim():""},downloadExcel(){if(this.data&&0!==this.data.length)try{const e=me.Wp.book_new(),t=me.Wp.aoa_to_sheet(this.formattedData);me.Wp.book_append_sheet(e,t,"Data"),me._h(e,"agricultural_data.xlsx")}catch(e){console.error("Error exporting Excel:",e),this.$toast?.error("Failed to export Excel file")}else this.$toast?.error("No data to export")}}},Us=(0,D.A)(Xs,[["render",Bs],["__scopeId","data-v-58e55718"]]),js=Us,Os={name:"FileDetailView",components:{ChartContainer:Fs,ExcelViewer:js},data(){return{processingFile:!1,showProcessingMessage:!1,barChartOptions:{scales:{y:{beginAtZero:!0,title:{display:!0,text:"Value"}}},plugins:{legend:{position:"top"}}},lineChartOptions:{scales:{y:{beginAtZero:!0,title:{display:!0,text:"Count"}}}},pieChartOptions:{plugins:{legend:{position:"right"}}},financialSummary:{income:12500,expenses:7800,categories:{income:{"Crop Sales":9500,"Equipment Rental":2e3,Subsidies:1e3},expenses:{Seeds:1200,Fertilizer:2500,Labor:3e3,Equipment:1100}}},barChartInstance:null,pieChartInstance:null,pollingInterval:null}},computed:{...(0,C.aH)(["currentFile","processedData","loading","error"]),soilMetricsData(){if(!this.processedData||!this.processedData.length)return{labels:[],datasets:[]};const e=this.processedData.map((e=>`Record ${e.record_no||""}`)).slice(0,10),t=this.processedData.map((e=>parseFloat(e.soil_ph||0))).slice(0,10),s=this.processedData.map((e=>parseFloat(e.soil_moisture||0))).slice(0,10),a=this.processedData.map((e=>parseFloat(e.soil_temp||0))).slice(0,10),r=this.processedData.map((e=>100*parseFloat(e.soil_ec||0))).slice(0,10);return{labels:e,datasets:[{label:"Soil pH",data:t,backgroundColor:"rgba(255, 99, 132, 0.7)",borderColor:"rgb(255, 99, 132)",borderWidth:1},{label:"Soil Moisture",data:s,backgroundColor:"rgba(54, 162, 235, 0.7)",borderColor:"rgb(54, 162, 235)",borderWidth:1},{label:"Soil Temp",data:a,backgroundColor:"rgba(255, 206, 86, 0.7)",borderColor:"rgb(255, 206, 86)",borderWidth:1},{label:"Soil EC (x100)",data:r,backgroundColor:"rgba(75, 192, 192, 0.7)",borderColor:"rgb(75, 192, 192)",borderWidth:1}]}},plantHealthData(){if(!this.processedData||!this.processedData.length)return{labels:[],datasets:[]};const e=this.processedData.map((e=>e.date||"")),t=this.processedData.map((e=>parseInt(e.death_plants||0)));return{labels:e,datasets:[{label:"Death Plants",data:t,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:2,tension:.2,fill:!0}]}},financialData(){return{labels:["Income","Expenses"],datasets:[{data:[this.financialSummary.income,this.financialSummary.expenses],backgroundColor:["rgba(75, 192, 192, 0.7)","rgba(255, 99, 132, 0.7)"],borderColor:["rgb(75, 192, 192)","rgb(255, 99, 132)"],borderWidth:1}]}},soilPhDistributionData(){if(!this.processedData||!this.processedData.length)return{labels:[],datasets:[]};const e={"Very Acidic (<5.5)":0,"Acidic (5.5-6.5)":0,"Neutral (6.5-7.5)":0,"Alkaline (>7.5)":0};return this.processedData.forEach((t=>{const s=parseFloat(t.soil_ph||0);s<5.5?e["Very Acidic (<5.5)"]++:s>=5.5&&s<6.5?e["Acidic (5.5-6.5)"]++:s>=6.5&&s<7.5?e["Neutral (6.5-7.5)"]++:s>=7.5&&e["Alkaline (>7.5)"]++})),{labels:Object.keys(e),datasets:[{data:Object.values(e),backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)"],borderColor:["rgb(255, 99, 132)","rgb(255, 206, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)"],borderWidth:1}]}}},mounted(){this.fetchFileData(),this.startDataPolling()},beforeUnmount(){this.stopDataPolling()},methods:{...(0,C.i0)(["fetchFile","fetchProcessedData","processFile","deleteFile"]),async fetchFileData(){const e=this.$route.params.id;if(!e||"undefined"===e||"null"===e)return console.error("Invalid file ID:",e),this.$toast.error("Invalid file ID"),void this.$router.push("/files");console.log("Fetching file data for ID:",e);try{if(this.$store.commit("setLoading",!0),await this.$store.dispatch("fetchFile",e),this.currentFile&&this.currentFile.processed)try{await this.$store.dispatch("fetchProcessedData",e),this.processedData&&this.processedData.length>0&&setTimeout((()=>{this.generateDummyCharts()}),200)}catch(t){console.error("Error fetching processed data:",t),this.$toast.error("Could not load processed data")}}catch(s){console.error("Error fetching file data:",s),this.$toast.error(`Error loading file: ${s.response?.data?.error||s.message||"Unknown error"}`)}finally{this.$store.commit("setLoading",!1)}},startDataPolling(){const e=this.$route.params.id;if(e&&!this.pollingInterval){let e=0;this.pollingInterval=setInterval((()=>{e>=5||this.currentFile&&this.processedData&&this.processedData.length>0?this.stopDataPolling():(console.log("Polling for data, attempt:",e+1),this.fetchFileData(),e++)}),2e3)}},stopDataPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)},refreshData(){this.fetchFileData()},async processFile(e){if(e||(e=this.currentFile?.id),e)try{this.$store.commit("setLoading",!0),this.$toast?.info("Processing file, please wait...");const s=await this.$store.dispatch("processFile",e);this.$toast?.success("File processed successfully"),await this.$nextTick();try{await this.$store.dispatch("fetchFile",e),this.currentFile&&this.currentFile.processed?setTimeout((async()=>{try{await this.$store.dispatch("fetchProcessedData",e),this.processedData&&this.processedData.length>0?this.generateDummyCharts():console.warn("No processed data available for charts")}catch(t){console.error("Error fetching processed data:",t),this.$toast?.error("Could not load processed data. Please try again.")}finally{this.$store.commit("setLoading",!1)}}),1e3):(this.$store.commit("setLoading",!1),console.warn("File is not marked as processed"))}catch(t){this.$store.commit("setLoading",!1),console.error("Error fetching updated file data:",t),this.$toast?.error("Error refreshing file data")}return s}catch(s){this.$store.commit("setLoading",!1),this.$toast?.error(`Error processing file: ${s.response?.data?.error||s.message||"Unknown error"}`),console.error("Error processing file:",s)}finally{setTimeout((()=>{this.showProcessingMessage=!1,this.processingFile=!1}),1500)}else this.$toast?.error("No file selected for processing")},formatDate(e){if(!e)return"N/A";const t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString()},formatFileSize(e){if(!e||0===e)return"Empty file (0 Bytes)";const t=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+t[s]},formatColumnName(e){return e?e.replace(/_/g," ").replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())).trim():""},getFileExtension(e){if(!e)return"";const t=e.split(".");return t[t.length-1].toUpperCase()},exportCSV(){if(!this.processedData||0===this.processedData.length)return void this.$toast.error("No data to export");const e=this.processedData.reduce(((e,t)=>(Object.keys(t).forEach((t=>{e.includes(t)||e.push(t)})),e)),[]);let t=e.map((e=>`"${this.formatColumnName(e)}"`)).join(",")+"\n";this.processedData.forEach((s=>{const a=e.map((e=>{const t=void 0!==s[e]?s[e]:"";return`"${t}"`})).join(",");t+=a+"\n"}));const s=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(s),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download",`${this.currentFile?.title||"data"}_export.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},generateDummyCharts(){Promise.resolve().then(s.bind(s,468)).then((e=>{this.$nextTick((()=>{try{const t=e.Chart||e.default||e;if(this.$refs.barChart){this.barChartInstance&&"function"===typeof this.barChartInstance.destroy&&this.barChartInstance.destroy();const e=[],s=[];if(this.processedData&&this.processedData.length>0){const t=this.processedData.slice(0,5),a=Object.keys(t[0]).slice(0,5);t.forEach((t=>{e.push(t[a[0]])})),t.forEach((e=>{const t=e[a[1]];s.push(isNaN(t)?Math.floor(100*Math.random()):parseFloat(t))}))}else e.push("Sample 1","Sample 2","Sample 3","Sample 4","Sample 5"),s.push(65,59,80,81,56);const a=this.$refs.barChart;if(!a||0===a.offsetWidth||0===a.offsetHeight)return void console.warn("Bar chart canvas not properly initialized");const r=a.getContext("2d");if(!r)return void console.warn("Failed to get 2D context from bar chart canvas");this.barChartInstance=new t(r,{type:"bar",data:{labels:e,datasets:[{label:"Sample Data",data:s,backgroundColor:"#198754",borderColor:"#157347",borderWidth:1}]},options:this.barChartOptions})}if(this.$refs.pieChart){this.pieChartInstance&&"function"===typeof this.pieChartInstance.destroy&&this.pieChartInstance.destroy();const e=this.$refs.pieChart;if(!e||0===e.offsetWidth||0===e.offsetHeight)return void console.warn("Pie chart canvas not properly initialized");const s=e.getContext("2d");if(!s)return void console.warn("Failed to get 2D context from pie chart canvas");let a=[],r=[];if(this.processedData&&this.processedData.length>0){const e=Object.keys(this.processedData[0]);if(e.length>=3){const t=e[2],s={};this.processedData.forEach((e=>{const a=e[t]||"Unknown";s[a]=(s[a]||0)+1})),a=Object.keys(s),r=Object.values(s)}else a=["Category A","Category B","Category C"],r=[300,50,100]}else a=["Red","Blue","Yellow","Green","Purple"],r=[12,19,3,5,2];const o=a.map((()=>`rgba(${Math.floor(255*Math.random())}, ${Math.floor(255*Math.random())}, ${Math.floor(255*Math.random())}, 0.7)`));this.pieChartInstance=new t(s,{type:"pie",data:{labels:a,datasets:[{data:r,backgroundColor:o,borderWidth:1}]},options:this.pieChartOptions})}}catch(t){console.error("Error creating charts:",t)}}))})).catch((e=>{console.error("Failed to load Chart.js:",e)}))},confirmDeleteFile(){confirm(`Are you sure you want to delete the file "${this.currentFile.title}"?`)&&this.deleteFile()},async deleteFile(){try{await this.$store.dispatch("deleteFile",this.currentFile.id),this.$toast?.success("File deleted successfully"),this.$router.push("/files")}catch(e){this.$toast?.error(`Error deleting file: ${e.response?.data?.error||"Unknown error"}`),console.error("Error deleting file:",e)}}}},zs=(0,D.A)(Os,[["render",Ht]]),Vs=zs,Ms={class:"login-container"},Ns={class:"card login-card"},qs={class:"card-body"},Qs={key:0,class:"alert alert-danger"},Gs={class:"form-group mb-3"},Rs={class:"form-group mb-3"},Hs=["disabled"],Js={key:0,class:"spinner-border spinner-border-sm mr-2"},Ks={class:"mt-3 text-center"};function Ys(e,t,s,i,l,n){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Ms,[(0,r.Lk)("div",Ns,[(0,r.Lk)("div",qs,[t[6]||(t[6]=(0,r.Lk)("h2",{class:"text-center mb-4"},[(0,r.Lk)("span",{class:"brand-name"},[(0,r.eW)("Aqua"),(0,r.Lk)("span",{class:"text-success"},"Green")])],-1)),l.error?((0,r.uX)(),(0,r.CE)("div",Qs,(0,o.v_)(l.error),1)):(0,r.Q3)("",!0),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[(0,r.Lk)("div",Gs,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),placeholder:"Username",required:""},null,512),[[a.Jo,l.username]])]),(0,r.Lk)("div",Rs,[(0,r.bo)((0,r.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),placeholder:"Password",required:""},null,512),[[a.Jo,l.password]])]),(0,r.Lk)("button",{type:"submit",class:"btn btn-success w-100 mt-3",disabled:l.loading},[l.loading?((0,r.uX)(),(0,r.CE)("span",Js)):(0,r.Q3)("",!0),t[3]||(t[3]=(0,r.eW)(" Login "))],8,Hs)],32),(0,r.Lk)("div",Ks,[(0,r.Lk)("p",null,[t[5]||(t[5]=(0,r.eW)("Don't have an account? ")),(0,r.bF)(c,{to:"/signup",class:"text-success"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Sign up")]))),_:1})])])])])])}const Zs={name:"LoginView",data(){return{username:"",password:"",loading:!1,error:null}},methods:{...(0,C.i0)(["loginUser"]),async login(){this.loading=!0,this.error=null;try{await this.loginUser({username:this.username,password:this.password}),this.$router.push("/")}catch(e){this.error=e.response?.data?.detail||"Login failed. Please check your credentials."}finally{this.loading=!1}}}},ea=(0,D.A)(Zs,[["render",Ys],["__scopeId","data-v-1ba0eeaa"]]),ta=ea,sa={class:"register-container"},aa={class:"card-body"},ra={key:0,class:"alert alert-danger"},oa={class:"form-group mb-3"},ia={class:"form-group mb-3"},la={class:"form-group mb-3"},na={class:"form-group mb-3"},ca={class:"form-group mb-3"},da={class:"mt-3 text-center"};function ua(e,t,s,i,l,n){const c=(0,r.g2)("BaseButton"),d=(0,r.g2)("router-link"),u=(0,r.g2)("BaseCard");return(0,r.uX)(),(0,r.CE)("div",sa,[(0,r.bF)(u,{class:"register-card"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",aa,[t[9]||(t[9]=(0,r.Lk)("h2",{class:"text-center mb-4"},[(0,r.Lk)("span",{class:"brand-name"},[(0,r.eW)("Aqua"),(0,r.Lk)("span",{class:"text-success"},"Green")])],-1)),l.error?((0,r.uX)(),(0,r.CE)("div",ra,(0,o.v_)(l.error),1)):(0,r.Q3)("",!0),(0,r.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)(((...e)=>n.register&&n.register(...e)),["prevent"]))},[(0,r.Lk)("div",oa,[(0,r.bo)((0,r.Lk)("input",{type:"email",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),placeholder:"Email"},null,512),[[a.Jo,l.email]])]),(0,r.Lk)("div",ia,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>l.phone=e),placeholder:"Phone"},null,512),[[a.Jo,l.phone]])]),(0,r.Lk)("div",la,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>l.username=e),placeholder:"Username",required:""},null,512),[[a.Jo,l.username]])]),(0,r.Lk)("div",na,[(0,r.bo)((0,r.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>l.password=e),placeholder:"Password",required:""},null,512),[[a.Jo,l.password]])]),(0,r.Lk)("div",ca,[(0,r.bo)((0,r.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>l.confirmPassword=e),placeholder:"Confirm Password",required:""},null,512),[[a.Jo,l.confirmPassword]])]),(0,r.bF)(c,{variant:"success",block:"",loading:l.loading,type:"submit"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)(" Sign up ")]))),_:1},8,["loading"])],32),(0,r.Lk)("div",da,[(0,r.Lk)("p",null,[t[8]||(t[8]=(0,r.eW)("Already have an account? ")),(0,r.bF)(d,{to:"/login",class:"text-success"},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)("Log In")]))),_:1})])])])])),_:1})])}const ha={name:"RegisterView",components:{BaseButton:ge.A,BaseCard:fe.A},data(){return{email:"",phone:"",username:"",password:"",confirmPassword:"",loading:!1,error:null}},methods:{...(0,C.i0)(["registerUser"]),async register(){if(this.loading=!0,this.error=null,this.password!==this.confirmPassword)return this.error="Passwords do not match",void(this.loading=!1);const e={username:this.username,password:this.password};this.email&&(e.email=this.email),this.phone&&(e.phone=this.phone);try{await this.registerUser(e),this.$router.push("/")}catch(t){console.error("Registration error:",t);let e="Registration failed. Please try again.";if(t&&t.response&&t.response.data){const s=t.response.data;if(s.errors){const t=[];for(const e in s.errors){const a=Array.isArray(s.errors[e])?s.errors[e].join(", "):s.errors[e];t.push(`${e}: ${a}`)}e=t.join("\n")}else if("string"===typeof s)e=s;else if("object"===typeof s){const t=[];for(const e in s){const a=Array.isArray(s[e])?s[e].join(", "):s[e];t.push(`${e}: ${a}`)}e=t.join("\n")}}this.error=e}finally{this.loading=!1}}}},pa=(0,D.A)(ha,[["render",ua],["__scopeId","data-v-ffd74806"]]),ma=pa;var ga=s(335);const fa="http://127.0.0.1:8000/api",ba={namespaced:!0,state:{csvFiles:[],currentCsvFile:null,cropImages:[],currentCropImage:null,metadata:[],metadataLabels:[],loading:!1,error:null},getters:{getCsvFiles:e=>e.csvFiles,getCurrentCsvFile:e=>e.currentCsvFile,getCropImages:e=>e.cropImages,getCurrentCropImage:e=>e.currentCropImage,getMetadata:e=>e.metadata,getMetadataLabels:e=>e.metadataLabels,isLoading:e=>e.loading,getError:e=>e.error},mutations:{setCsvFiles(e,t){e.csvFiles=t},setCurrentCsvFile(e,t){e.currentCsvFile=t},setCropImages(e,t){e.cropImages=t},setCurrentCropImage(e,t){e.currentCropImage=t},setMetadata(e,t){e.metadata=t},setMetadataLabels(e,t){e.metadataLabels=t},setLoading(e,t){e.loading=t},setError(e,t){e.error=t},addCsvFile(e,t){e.csvFiles.unshift(t)},addCropImage(e,t){e.cropImages.unshift(t)},updateCropImage(e,t){const s=e.cropImages.findIndex((e=>e.id===t.id));-1!==s&&e.cropImages.splice(s,1,t)}},actions:{fetchCsvFiles({commit:e,rootGetters:t}){e("setLoading",!0),e("setError",null);const s=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{};return ga.A.get(`${fa}/csv-files/`,{headers:s}).then((t=>(e("setCsvFiles",t.data),t.data))).catch((t=>{throw e("setError",t.response?.data||"Failed to fetch CSV files"),t})).finally((()=>{e("setLoading",!1)}))},fetchCsvFile({commit:e,rootGetters:t},s){e("setLoading",!0),e("setError",null);const a=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{};return ga.A.get(`${fa}/csv-files/${s}/`,{headers:a}).then((t=>(e("setCurrentCsvFile",t.data),t.data))).catch((t=>{throw e("setError",t.response?.data||"Failed to fetch CSV file"),t})).finally((()=>{e("setLoading",!1)}))},uploadCsvFile({commit:e,rootGetters:t},s){e("setLoading",!0),e("setError",null);const a={"Content-Type":"multipart/form-data",...t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{}};return ga.A.post(`${fa}/csv-files/`,s,{headers:a}).then((t=>(e("addCsvFile",t.data),t.data))).catch((t=>{throw e("setError",t.response?.data||"Failed to upload CSV file"),t})).finally((()=>{e("setLoading",!1)}))},processCsvFile({commit:e,rootGetters:t},s){e("setLoading",!0),e("setError",null);const a=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{};return ga.A.post(`${fa}/csv-files/${s}/process/`,{},{headers:a}).then((e=>e.data)).catch((t=>{throw e("setError",t.response?.data||"Failed to process CSV file"),t})).finally((()=>{e("setLoading",!1)}))},fetchCropImages({commit:e,rootGetters:t},s={}){e("setLoading",!0),e("setError",null);const a=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{},r={};return s.csvFile&&(r.csv_file=s.csvFile),s.sampleId&&(r.sample_id=s.sampleId),s.metadataLabel&&(r.metadata_label=s.metadataLabel),s.metadataValue&&(r.metadata_value=s.metadataValue),ga.A.get(`${fa}/crop-images/`,{headers:a,params:r}).then((t=>(e("setCropImages",t.data),t.data))).catch((t=>{throw e("setError",t.response?.data||"Failed to fetch crop images"),t})).finally((()=>{e("setLoading",!1)}))},fetchCropImage({commit:e,rootGetters:t},s){e("setLoading",!0),e("setError",null);const a=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{};return ga.A.get(`${fa}/crop-images/${s}/`,{headers:a}).then((t=>(e("setCurrentCropImage",t.data),t.data))).catch((t=>{throw e("setError",t.response?.data||"Failed to fetch crop image"),t})).finally((()=>{e("setLoading",!1)}))},uploadCropImages({commit:e,rootGetters:t},s){e("setLoading",!0),e("setError",null);const a={...t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{}};return ga.A.post(`${fa}/crop-images/upload_images/`,s,{headers:a}).then((t=>(t.data.images&&Array.isArray(t.data.images)&&t.data.images.forEach((t=>{e("addCropImage",t)})),t.data))).catch((t=>{throw e("setError",t.response?.data?.error||"Failed to upload images"),t})).finally((()=>{e("setLoading",!1)}))},fetchMetadataLabels({commit:e,rootGetters:t}){e("setLoading",!0);const s=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{};return ga.A.get(`${fa}/crop-images/metadata_labels/`,{headers:s}).then((t=>(e("setMetadataLabels",t.data),t.data))).catch((e=>(console.error("Failed to fetch metadata labels:",e),[]))).finally((()=>{e("setLoading",!1)}))},addMetadataToImage({commit:e,rootGetters:t},{imageId:s,metadata:a}){e("setLoading",!0),e("setError",null);const r=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{};return ga.A.post(`${fa}/crop-images/${s}/add_metadata/`,{metadata:a},{headers:r}).then((e=>e.data.metadata&&Array.isArray(e.data.metadata)?this.dispatch("crop/fetchCropImage",s):e.data)).catch((t=>{throw e("setError",t.response?.data||"Failed to add metadata"),t})).finally((()=>{e("setLoading",!1)}))}}},ka=ba,va="http://127.0.0.1:8000/api",ya=(0,C.y$)({modules:{crop:ka},state:{files:[],currentFile:null,processedData:[],loading:!1,error:null,token:localStorage.getItem("token")||null,refreshToken:localStorage.getItem("refreshToken")||null,user:JSON.parse(localStorage.getItem("user"))||null,isAuthenticated:!!localStorage.getItem("token")},getters:{isAuthenticated:e=>e.isAuthenticated,currentUser:e=>e.user,getAuthToken:e=>e.token,getFiles:e=>e.files,getCurrentFile:e=>e.currentFile,getProcessedData:e=>e.processedData,isLoading:e=>e.loading,getError:e=>e.error},mutations:{setFiles(e,t){e.files=t},setCurrentFile(e,t){e.currentFile=t},setProcessedData(e,t){e.processedData=t},setLoading(e,t){e.loading=t},setError(e,t){e.error=t},setAuth(e,{token:t,refreshToken:s,user:a}){e.token=t,e.refreshToken=s,e.user=a,e.isAuthenticated=!0,localStorage.setItem("token",t),localStorage.setItem("refreshToken",s),localStorage.setItem("user",JSON.stringify(a))},clearAuth(e){e.token=null,e.refreshToken=null,e.user=null,e.isAuthenticated=!1,localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")},removeFile(e,t){e.files=e.files.filter((e=>e.id!==t))}},actions:{registerUser({commit:e},t){return e("setLoading",!0),e("setError",null),ga.A.post(`${va}/auth/register/`,t).then((t=>{if(t.data&&t.data.success){const{access:s,refresh:a,user:r}=t.data;return e("setAuth",{token:s,refreshToken:a,user:r}),t}throw e("setError",t.data.errors||"Registration failed"),{response:t}})).catch((t=>{throw t.response&&t.response.data&&t.response.data.errors?e("setError",t.response.data.errors):e("setError",t.response?.data||"Registration failed"),t})).finally((()=>{e("setLoading",!1)}))},loginUser({commit:e},t){return e("setLoading",!0),e("setError",null),ga.A.post(`${va}/auth/login/`,t).then((t=>{const{access:s,refresh:a,user:r}=t.data;return e("setAuth",{token:s,refreshToken:a,user:r}),t})).catch((t=>{throw e("setError",t.response?.data||"Login failed"),t})).finally((()=>{e("setLoading",!1)}))},refreshToken({commit:e,state:t}){return t.refreshToken?ga.A.post(`${va}/auth/token/refresh/`,{refresh:t.refreshToken}).then((s=>{const{access:a}=s.data;return e("setAuth",{token:a,refreshToken:t.refreshToken,user:t.user}),s})).catch((t=>{throw e("clearAuth"),t})):Promise.reject(new Error("No refresh token available"))},logout({commit:e}){return e("clearAuth"),Promise.resolve()},fetchFiles({commit:e,getters:t}){e("setLoading",!0),e("setError",null),console.log("Fetching files with auth token:",t.isAuthenticated?"Token exists":"No token");const s=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{};return ga.A.get(`${va}/excel-files/`,{headers:s}).then((t=>(console.log("Files API response:",t),Array.isArray(t.data)?(console.log(`Received ${t.data.length} files from API`),e("setFiles",t.data),t.data):(console.warn("API response is not an array:",t.data),t.data&&Array.isArray(t.data.results)?(console.log(`Using results array with ${t.data.results.length} files`),e("setFiles",t.data.results),t.data.results):(console.error("Could not extract files array from response"),e("setFiles",[]),[]))))).catch((t=>{throw console.error("Error fetching files:",t.response?.data||t),e("setError",t.response?.data||"Failed to fetch files"),t})).finally((()=>{e("setLoading",!1)}))},fetchFile({commit:e,getters:t},s){e("setLoading",!0),e("setError",null);const a=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{};return ga.A.get(`${va}/excel-files/${s}/detail/`,{headers:a}).then((t=>(e("setCurrentFile",t.data),t.data))).catch((t=>(console.warn("Detail endpoint failed, trying standard endpoint:",t.message),ga.A.get(`${va}/excel-files/${s}/`,{headers:a}).then((t=>(e("setCurrentFile",t.data),t.data))).catch((t=>{throw console.error("Error fetching file details:",t.response?.data||t),e("setError",t.response?.data?.error||"Failed to fetch file details"),t}))))).finally((()=>{e("setLoading",!1)}))},uploadFile({commit:e,getters:t,dispatch:s},a){e("setLoading",!0),e("setError",null);const r={...t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{}};return ga.A.post(`${va}/excel-files/`,a,{headers:r}).then((e=>(console.log("File upload response:",e.data),s("fetchFiles"),{...e.data,uploadSuccess:!0}))).catch((t=>{throw console.error("Error uploading file:",t.response?.data||t),e("setError",t.response?.data?.error||"Failed to upload file"),t})).finally((()=>{e("setLoading",!1)}))},processFile({commit:e,getters:t},s){if(e("setLoading",!0),e("setError",null),!s||"undefined"===s||"null"===s)return console.error("Invalid file ID for processing:",s),e("setError","Invalid file ID"),e("setLoading",!1),Promise.reject(new Error("Invalid file ID"));const a=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{},r={headers:a,timeout:6e4};return ga.A.post(`${va}/excel-files/${s}/process/`,{},r).then((e=>(console.log("File processing response:",e.data),e.data))).catch((t=>{const s=t.response?.data?.error||t.response?.data||"Failed to process file";throw console.error("Error processing file:",s),e("setError",s),t})).finally((()=>{e("setLoading",!1)}))},fetchProcessedData({commit:e,getters:t},s){if(e("setLoading",!0),e("setError",null),!s||"undefined"===s||"null"===s)return console.error("Invalid file ID for processed data:",s),e("setProcessedData",[]),e("setLoading",!1),Promise.resolve([]);console.log("Fetching processed data for file ID:",s);const a=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{},r={headers:a,timeout:3e4},o=(t=1,a=3)=>ga.A.get(`${va}/processed-data/by_file/?file_id=${s}`,r).then((t=>(console.log("Processed data response:",t),t.data&&t.data.success&&t.data.data?(e("setProcessedData",t.data.data),t.data.data):Array.isArray(t.data)?(e("setProcessedData",t.data),t.data):(console.warn("Unexpected processed data format:",t.data),e("setProcessedData",[]),[])))).catch((s=>{if(t<a&&("ECONNABORTED"===s.code||s.response?.status>=500)){console.warn(`Retrying processed data fetch (attempt ${t+1}/${a})...`);const e=Math.min(1e3*Math.pow(2,t-1),8e3);return new Promise((s=>{setTimeout((()=>{s(o(t+1,a))}),e)}))}return console.error("Error fetching processed data:",s.response?.data||s),e("setError",s.response?.data?.error||s.response?.data||"Failed to fetch processed data"),e("setProcessedData",[]),[]}));return o().finally((()=>{e("setLoading",!1)}))},deleteFile({commit:e,getters:t},s){e("setLoading",!0),e("setError",null);const a=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{};return ga.A.delete(`${va}/excel-files/${s}/`,{headers:a}).then((a=>(e("removeFile",s),t.getCurrentFile&&t.getCurrentFile.id===s&&e("setCurrentFile",null),a.data))).catch((t=>{throw console.error("Error deleting file:",t.response?.data||t),e("setError",t.response?.data?.error||t.response?.data||"Failed to delete file"),t})).finally((()=>{e("setLoading",!1)}))},fetchUserProfile({commit:e,getters:t}){e("setLoading",!0),e("setError",null);const s=t.isAuthenticated?{Authorization:`Bearer ${t.getAuthToken}`}:{};return ga.A.get(`${va}/auth/profile/`,{headers:s}).then((e=>e.data)).catch((t=>(console.error("Error fetching user profile:",t.response?.data||t),e("setError",t.response?.data?.error||t.response?.data||"Failed to fetch user profile"),Promise.reject(t)))).finally((()=>{e("setLoading",!1)}))},updateProfileImage({commit:e,getters:t},s){e("setLoading",!0),e("setError",null);const a={Authorization:`Bearer ${t.getAuthToken}`,"Content-Type":"multipart/form-data"};return ga.A.patch(`${va}/auth/profile/`,s,{headers:a}).then((e=>e.data)).catch((t=>(console.error("Error updating profile image:",t.response?.data||t),e("setError",t.response?.data?.error||t.response?.data||"Failed to update profile image"),Promise.reject(t)))).finally((()=>{e("setLoading",!1)}))}}}),La=[{path:"/",name:"home",component:te,meta:{requiresAuth:!0}},{path:"/upload",name:"upload",component:we,meta:{requiresAuth:!0}},{path:"/files",name:"files",component:Me,meta:{requiresAuth:!0}},{path:"/files/:id",name:"file-detail",component:Vs,meta:{requiresAuth:!0}},{path:"/crop-images",name:"crop-images",component:()=>s.e(420).then(s.bind(s,420)),meta:{requiresAuth:!0}},{path:"/crop-images/:id",name:"crop-image-detail",component:()=>s.e(601).then(s.bind(s,601)),meta:{requiresAuth:!0}},{path:"/csv-files",name:"csv-files",component:()=>s.e(824).then(s.bind(s,824)),meta:{requiresAuth:!0}},{path:"/login",name:"login",component:ta,meta:{guest:!0}},{path:"/signup",name:"register",component:ma,meta:{guest:!0}},{path:"/profile",name:"profile",component:()=>s.e(992).then(s.bind(s,992)),meta:{requiresAuth:!0}},{path:"/visualizations",name:"visualizations",component:()=>s.e(648).then(s.bind(s,648)),meta:{requiresAuth:!0}}],Ca=(0,T.aE)({history:(0,T.LA)("/"),routes:La});Ca.beforeEach(((e,t,s)=>{const a=ya.getters.isAuthenticated;"/"!==e.path||a?e.matched.some((e=>e.meta.requiresAuth))?a?s():s({name:"login"}):e.matched.some((e=>e.meta.guest))&&a?s({name:"home"}):s():s({name:"login"})}));const wa=Ca;s(414);const Fa=()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),ya?.commit("clearAuth")};window.location.href.includes("://localhost:8080/")&&Fa();const _a=(0,a.Ef)(I).use(ya).use(wa);_a.config.globalProperties.$toast={success(e){this._showToast(e,"success","bi-check-circle-fill")},error(e){this._showToast(e,"danger","bi-exclamation-triangle-fill")},warning(e){this._showToast(e,"warning","bi-exclamation-circle-fill")},info(e){this._showToast(e,"info","bi-info-circle-fill")},_showToast(e,t,s){const a=document.getElementById("toast-container")||this._createToastContainer(),r=document.createElement("div");r.className=`toast show toast-${t}`,r.setAttribute("role","alert"),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true"),r.innerHTML=`\n      <div class="toast-header bg-${t} text-white">\n        <i class="bi ${s} me-2"></i>\n        <strong class="me-auto">${t.charAt(0).toUpperCase()+t.slice(1)}</strong>\n        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>\n      </div>\n      <div class="toast-body">\n        ${e}\n      </div>\n    `,a.appendChild(r),setTimeout((()=>{r.classList.add("fade-out"),setTimeout((()=>r.remove()),300)}),5e3);const o=r.querySelector(".btn-close");o&&o.addEventListener("click",(()=>{r.classList.add("fade-out"),setTimeout((()=>r.remove()),300)}))},_createToastContainer(){const e=document.createElement("div");e.id="toast-container",e.className="toast-container position-fixed top-0 end-0 p-3",e.style.zIndex="1080";const t=document.createElement("style");return t.textContent="\n      .toast { \n        opacity: 1; \n        transition: opacity 0.3s ease-out; \n        box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n        margin-bottom: 10px;\n      }\n      .toast.fade-out { \n        opacity: 0; \n      }\n      .toast-success { border-left: 4px solid #198754; }\n      .toast-danger { border-left: 4px solid #dc3545; }\n      .toast-warning { border-left: 4px solid #ffc107; }\n      .toast-info { border-left: 4px solid #0dcaf0; }\n    ",document.head.appendChild(t),document.body.appendChild(e),e}},ga.A.defaults.baseURL="http://127.0.0.1:8000/api",ga.A.interceptors.request.use((e=>(ya.getters.isAuthenticated&&(e.headers.Authorization=`Bearer ${ya.getters.getAuthToken}`),e)),(e=>Promise.reject(e))),ga.A.interceptors.response.use((e=>e),(async e=>{const t=e.config;if(e.response&&401===e.response.status&&!t._retry){t._retry=!0;try{await ya.dispatch("refreshToken");const e=ya.getters.getAuthToken;return ga.A.defaults.headers.common["Authorization"]=`Bearer ${e}`,t.headers["Authorization"]=`Bearer ${e}`,(0,ga.A)(t)}catch(s){return _a.config.globalProperties.$toast.error("Session expired. Please log in again."),ya.commit("clearAuth"),wa.push("/login"),Promise.reject(s)}}return Promise.reject(e)})),_a.mount("#app")},753:(e,t,s)=>{s.d(t,{A:()=>u});var a=s(641),r=s(33);const o=["disabled","type"],i={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"};function l(e,t,s,l,n,c){return(0,a.uX)(),(0,a.CE)("button",{class:(0,r.C4)(c.buttonClasses),disabled:s.disabled||s.loading,onClick:t[0]||(t[0]=t=>e.$emit("click",t)),type:s.type},[s.loading?((0,a.uX)(),(0,a.CE)("span",i)):(0,a.Q3)("",!0),(0,a.RG)(e.$slots,"default",{},(()=>[t[1]||(t[1]=(0,a.eW)("Button"))]),!0)],10,o)}const n={name:"BaseButton",props:{variant:{type:String,default:"primary",validator:e=>["primary","secondary","success","danger","warning","info","light","dark","outline-primary","outline-secondary","outline-success","outline-danger","outline-warning","outline-info","outline-light","outline-dark"].includes(e)},size:{type:String,default:"",validator:e=>["","sm","lg"].includes(e)},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},type:{type:String,default:"button",validator:e=>["button","submit","reset"].includes(e)}},computed:{buttonClasses(){return["btn",`btn-${this.variant}`,this.size?`btn-${this.size}`:"",this.block?"d-block w-100":""]}}};var c=s(262);const d=(0,c.A)(n,[["render",l],["__scopeId","data-v-59c7c2a7"]]),u=d}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,s),o.exports}s.m=e,(()=>{var e=[];s.O=(t,a,r,o)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){for(var[a,r,o]=e[d],l=!0,n=0;n<a.length;n++)(!1&o||i>=o)&&Object.keys(s.O).every((e=>s.O[e](a[n])))?a.splice(n--,1):(l=!1,o<i&&(i=o));if(l){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]}})(),(()=>{s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,a)=>(s.f[a](e,t),t)),[]))})(),(()=>{s.u=e=>"js/"+e+"."+{154:"ff13420f",420:"12429893",601:"a5fd658c",648:"2ee90f5c",824:"b8781b5b",992:"c4c0b24f"}[e]+".js"})(),(()=>{s.miniCssF=e=>"css/"+e+"."+{420:"986cfe05",601:"d0f74f1a",648:"6a20e4eb",824:"98c50ef1",992:"e0f17019"}[e]+".css"})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="data-processor-frontend:";s.l=(a,r,o,i)=>{if(e[a])e[a].push(r);else{var l,n;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+o){l=u;break}}l||(n=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",t+o),l.src=a),e[a]=[r];var h=(t,s)=>{l.onerror=l.onload=null,clearTimeout(p);var r=e[a];if(delete e[a],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((e=>e(s))),t)return t(s)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),n&&document.head.appendChild(l)}}})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{s.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,a,r,o)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",s.nc&&(i.nonce=s.nc);var l=s=>{if(i.onerror=i.onload=null,"load"===s.type)r();else{var a=s&&s.type,l=s&&s.target&&s.target.href||t,n=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+l+")");n.name="ChunkLoadError",n.code="CSS_CHUNK_LOAD_FAILED",n.type=a,n.request=l,i.parentNode&&i.parentNode.removeChild(i),o(n)}};return i.onerror=i.onload=l,i.href=t,a?a.parentNode.insertBefore(i,a.nextSibling):document.head.appendChild(i),i},t=(e,t)=>{for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var r=s[a],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===t))return r}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){r=i[a],o=r.getAttribute("data-href");if(o===e||o===t)return r}},a=a=>new Promise(((r,o)=>{var i=s.miniCssF(a),l=s.p+i;if(t(i,l))return r();e(a,l,null,r,o)})),r={524:0};s.f.miniCss=(e,t)=>{var s={420:1,601:1,648:1,824:1,992:1};r[e]?t.push(r[e]):0!==r[e]&&s[e]&&t.push(r[e]=a(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))}}})(),(()=>{var e={524:0};s.f.j=(t,a)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise(((s,a)=>r=e[t]=[s,a]));a.push(r[2]=o);var i=s.p+s.u(t),l=new Error,n=a=>{if(s.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,r[1](l)}};s.l(i,n,"chunk-"+t,t)}},s.O.j=t=>0===e[t];var t=(t,a)=>{var r,o,[i,l,n]=a,c=0;if(i.some((t=>0!==e[t]))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(n)var d=n(s)}for(t&&t(a);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},a=self["webpackChunkdata_processor_frontend"]=self["webpackChunkdata_processor_frontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=s.O(void 0,[504],(()=>s(470)));a=s.O(a)})();
//# sourceMappingURL=app.6b33c4ae.js.map